<h1 align="center">
    ساعت دیجیتال عقربه ای
</h1>
<p align="center">
پروژه درس سیستم های نهفته
<br>
جناب آقای دکتر انصاری
<br>
علی حاتمی - رویا قوامی - سارا آذرنوش
<br>
زمستان ۱۴۰۰
</p>

اسلایدهای مربوط به این پروپوزال در
[این لینک](https://docs.google.com/presentation/d/1GC8DirnFEurxau7_LiZFlntKh-j90mExHD0EmSQnUcM/edit?usp=sharing)
قابل مشاهده است.

## طرح ساعت

طراحی مد نظر به این صورت است که نمایش زمان با استفاده از سه حلقه متحدالمرکز از LED های RGB با اندازه‌های ۶۰، ۲۴ و ۱۲ صورت خواهد گرفت.

شکل صفحه ساعت (Watch Face) به صورت زیر خواهد بود:

<div  align="center">
<img src="./watchface.png">
</div>

طرح سه بعدی قابل پرینت این صفحه از 
[این لینک](https://skfb.ly/oroGy)
قابل مشاهده است. لازم به ذکر است این یک طرح Original نبوده و از یک طرح آمده از اینترنت تحت لیسانس Creative Common استفاده شده است.

## لوازم مورد نیاز
این لوازم با توجه به ناحیه مصرف آنها عبارت‌اند از:

- **پردازشی**:
  - NodeMCU بر پایه EPS8266 با چیپ CP2102
- **روشنایی**: برای روشنایی این ساعت از led های WS2812B پکیج 5050 استفاده خواهد شد. پیشتر از این تکنولوژی کنترل کردن led ها به خصوص در تعداد بالا بیشتر شبیه به یک کابوس بود اما با استفاده از این led های آدرس پذیر با اتصال آنها به صورت daisy chain و تنها با استفاده از یک خط داده آنها را کنترل کرد. برای این ساعت از ۹۶ عدد از آنها به شرح زیر استفاده خواهد شد:
  - NeoPixel Ring - X60 5050 RGB LED WS2812B
  - NeoPixel Ring - X24 5050 RGB LED WS2812B
  - NeoPixel Ring - X12 5050 RGB LED WS2812B
- **ساعت**
  - Real-time Clock DS1307 with I2C Interface
- **توان**:
<br>
این ساعت از ۹۶ چراغ LED WS2812B تشکیل شده است
که در حالتی که خاموش باشند ۱ میلی آمپر و در حالت روشنایی ۶۰ میلی آمپر مصرف دارند. برای کنترل مصرف این ساعت از این تکنیک (به پیشنهاد مهندس سیادت‌زاده) استفاده خواهد شد که ساعت همیشه روشن نخواهد بود و تنها در رویدادهای خاصی (مثل دریافت صدای کف‌زدن یا بر اساس یک تایمر خاص)
زمان را نشان خواهد داد. برای توان بخشی مدار از ملزومات زیر استفاده خواهد شد:
  - Li-Ion 18650 Battery 2200
  - 18650 ‌Battery Shield V3:
  <br>
این شیلد یک، دو یا چهار باطری دارد، خروجی ثابت ۵ ولت و ۳ ولت به ما تحویل می‌دهد که برای روشن کردن چراغ‌ها و میکروکنترلر نیاز خواهد بود و این شیلد کار تنظیم و مصرف توان را بسیار ساده می‌کند.
  - Voltage Sensor:
  <br>
  از یک سنسور ولتاژ برای گرفتن ولتاژ خام دو سر باتری استفاده می‌شود تا با توجه به ولتاژ آن بتوان میزان باطری باقی‌مانده درون آن را خواند و با توجه به منحنی شارژ دهی-میزان شارژ باقی‌مانده شارژ باطری را نمایش داد. البته شیلد باطری خود این کار را می کند اما چون می‌خواهیم این اطلاعات از طریق نرم‌افزار قابل دسترسی باشند به این سنسور نیاز خواهیم داشت.

- **صوت**:
  <br>
  چیزی که در باره بخش اختیاری است این است که می‌توان صوت‌های دلخواه را روی یک میکرو sd ریخت یا اینکه برای درایو بهتر اسپیکر از یک آمپلیفایر استفاده کرد. اما می‌توان تنها به اسپیکر اکتفا کرد و با استفاده از تن‌ها موسیقی‌های ابتدایی برای زنگ و دیگر کارکرد‌ها ساخت.
  - 0.5 Watt 8 Ohm Speaker
  - (Optional) LM386 Mini Amplifier
  - (Optional) Micro SD Card Module

- **سنسورها**:
  - Voice Sensor FC-04
  - TTP223 Touch Sensor
  - DS18B20 Temperature Sensor

- **ملزومات ساخت**
  - Printed watch face and body
  - Mini Breadboard 
  - Jumper Wires
  - Soldering iron + ...

## قابلیت‌ها
- نمایش ساعت (با چند نحوه نمایش متفاوت)
- دارای mode هایی برای استفاده به عنوان چراغ خواب یا تزئین
- قابلیت کنترل و تغییر برنامه و اطلاع از وضعیت فعلی توسط اپلیکیشن موبایل
- هشدار (آلارم)
- تفاوت رنگ در روز و شب(AM/PM)
- حالات متفاوت رنگ
- قابلیت‌های احتمالی:
  - نمایش تاریخ
  - نمایش وضعیت‌آب و هوا
  - نمایش تعداد ایمیل